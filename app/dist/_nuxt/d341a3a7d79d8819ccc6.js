(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{179:function(t,n,e){"use strict";var o={props:{small:{type:Boolean,default:!1},table:{type:Boolean,default:!1},tableSmall:{type:Boolean,default:!1}}},c=e(4),component=Object(c.a)(o,function(){var t=this.$createElement,n=this._self._c||t;return n("v-tooltip",{attrs:{"content-class":"winvestify-tooltip "+(this.small?"small":""),bottom:""}},[n("i",{staticClass:"icon-win-info",class:{"show-icon":this.table,"show-icon show-icon-small":this.tableSmall},attrs:{slot:"activator"},slot:"activator"}),this._v(" "),this._t("content")],2)},[],!1,null,null,null);n.a=component.exports},184:function(t,n,e){"use strict";var o=e(209);n.a=o.create({})},841:function(t,n,e){"use strict";e(842)("link",function(t){return function(n){return t(this,"a","href",n)}})},842:function(t,n,e){var o=e(5),c=e(6),l=e(16),r=/"/g,d=function(t,n,e,o){var c=String(l(t)),d="<"+n;return""!==e&&(d+=" "+e+'="'+String(o).replace(r,"&quot;")+'"'),d+">"+c+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(d),o(o.P+o.F*c(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",e)}},851:function(t,n,e){"use strict";e.r(n);e(841),e(50);var o=e(8),c=e(184),l=e(179),r={asyncData:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("/api/link").then(function(t){return t.data});case 2:return data=t.sent,t.abrupt("return",{info:data});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),head:function(){return{title:"Winvestify - Link account"}},data:function(){return{selectedAccounts:[],dialog:!1,small:!0,valid:!0,confirm:!1,account:{lending:null,user:"",password:""},accounts:[],headers:[{text:"Lending Platforms",align:"center",sortable:!1,icon:"icon-win-pocket"},{text:"User",align:"center",sortable:!1,icon:"icon-win-user-check"},{text:"Password",align:"center",sortable:!1,icon:"icon-win-lock"},{text:"Connection",align:"center",sortable:!1,icon:"icon-win-shield"},{text:"Status",align:"center",sortable:!1,icon:"icon-win-cpu",tooltip:!0},{text:"Settings",align:"center",sortable:!1,icon:"icon-win-settings",tooltip:!0}],data:[],lendings:[{id:1,name:"Mintos",src:"/lendings/mintos_logo.png"},{id:2,name:"Twino",src:"/lendings/twino.png"},{id:3,name:"Estateguru",src:"/lendings/estateguru.png"},{id:4,name:"Bondora",src:"/lendings/bondora_logo.png"},{id:5,name:"Felow Finance",src:"/lendings/felow_finance_logo.png"},{id:6,name:"Circulantis",src:"/lendings/circulantis_invert.png"},{id:7,name:"Loanbook",src:"/lendings/loanbook_logo.png"},{id:8,name:"Finanzarel",src:"/lendings/finanzarel_logo_white.png"},{id:9,name:"Ecrowd",src:"/lendings/ecrowd_logo.png"}],validation:{passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=5||"Password must be more than 5 characters"}],usernameRules:[function(t){return!!t||"Username is required"},function(t){return t&&t.length>=2||"Username must be more than 2 characters"}],select:[function(t){return!!t||"Platform is required"}]}}},mounted:function(){this.$store.commit("SET_BUTTON_BACK",!1)},methods:{preCheck:function(){var t=this;c.a.post("/api/link/pre-check",{companyId:this.account.lending,username:this.account.user,password:this.account.password}).then(function(n){var data=n.data;data.accounts.length>0&&(t.accounts=data.accounts,t.dialog=!t.dialog)})},linkAccount:function(){var t=this;c.a.post("/api/link",{companyId:this.account.lending,username:this.account.user,password:this.account.password,linkedAccount:{username:"",account:"",alias:""}}).then(function(n){n.data;t.dialog=!1,t.confirm=!0,t.clear()})},analizeAccount:function(t){var n=this;setTimeout(function(){n.info.data=n.data.map(function(n){return n.user===t&&(n.status="Analyzing"),n}),n.acceptAccount(t)},5e3)},acceptAccount:function(t){var n=this;setTimeout(function(){n.data=n.data.map(function(n){return n.user===t&&(n.status="Monitored"),n})},5e3)},clear:function(){this.$refs.link.reset()}},components:{Tooltip:l.a},layout:"dashboard"},d=e(4),component=Object(d.a)(r,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-card",{staticClass:"data-card link-account",attrs:{"elevation-1":"",dark:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"card-title"},[t._v("\n\t\t\t\t\t\t\tLink Account\n\t\t\t\t\t\t")])]),t._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-form",{ref:"link",staticClass:"custom-form",model:{value:t.valid,callback:function(n){t.valid=n},expression:"valid"}},[e("v-container",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"flex-container",attrs:{xs12:"",sm4:"",md3:"",lg3:""}},[e("v-autocomplete",{attrs:{id:"platform",items:t.lendings,box:"","content-class":"select-active",placeholder:"Select lending platform","item-text":"name","item-value":"id",rules:t.validation.select},model:{value:t.account.lending,callback:function(n){t.$set(t.account,"lending",n)},expression:"account.lending"}})],1),t._v(" "),e("v-flex",{attrs:{xs12:"",sm4:"",md3:"",lg3:""}},[e("v-text-field",{attrs:{id:"username",rules:t.validation.usernameRules,label:"Username"},model:{value:t.account.user,callback:function(n){t.$set(t.account,"user",n)},expression:"account.user"}})],1),t._v(" "),e("v-flex",{attrs:{xs12:"",sm4:"",md3:"",lg3:""}},[e("v-text-field",{attrs:{id:"password",rules:t.validation.passwordRules,type:"password",label:"Password"},model:{value:t.account.password,callback:function(n){t.$set(t.account,"password",n)},expression:"account.password"}})],1),t._v(" "),e("v-flex",{staticClass:"flex-container",attrs:{"offset-xs2":"",xs8:"","offset-sm4":"","offset-md0":"",sm4:"",md3:"",lg3:""}},[e("v-btn",{attrs:{disabled:!t.valid},on:{click:t.preCheck}},[t._v("Link Account")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-card",{staticClass:"data-card",attrs:{"elevation-1":"",dark:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"card-title"},[t._v("\n\t\t\t\t\t\t\tLinked Accounts\n\t\t\t\t\t\t\t"),e("tooltip",{attrs:{small:""}},[e("template",{slot:"content"},[e("div",[e("p",{domProps:{innerHTML:t._s(t.info.tooltip_display_name)}})])])],2)],1)]),t._v(" "),e("v-flex",{staticClass:"table-actions-info",attrs:{xs12:""}},[e("v-data-table",{attrs:{headers:t.headers,items:t.info.data,"hide-actions":""},scopedSlots:t._u([{key:"headerCell",fn:function(n){return[n.header.tooltip?e("div",{staticClass:"header-cell"},[e("v-tooltip",{attrs:{"content-class":"winvestify-tooltip "+(t.small?"small":""),bottom:""}},[e("template",{slot:"activator"},[e("i",{staticClass:"show-icon icon-table",class:n.header.icon}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(n.header.text)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),e("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatum consequatur magnam fuga repudiandae ducimus nisi reprehenderit labore perspiciatis ad vitae dolores inventore, accusantium quidem optio. Itaque temporibus eaque dolore distinctio?")])],2)],1):e("div",{staticClass:"header-cell"},[e("i",{staticClass:"icon-table",class:n.header.icon}),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(n.header.text)+"\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t")])]}},{key:"items",fn:function(n){return[e("td",{staticClass:"text-xs-left td-actions"},[e("img",{attrs:{src:n.item.src,alt:""}}),t._v(t._s(n.item.company_id)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),e("td",{staticClass:"text-xs-left"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(n.item.linkedaccount_platform_display_name)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),e("td",{staticClass:"text-xs-left"},[t._v(t._s(n.item.linkedaccount_password))]),t._v(" "),e("td",{staticClass:"text-xs-left"},[t._v(t._s(n.item.connection))]),t._v(" "),e("td",{staticClass:"text-xs-left"},[e("div",{staticClass:"td-actions",class:{ready:"MONITORED"===n.item.linkedaccount_visual_state,pending:"ANALYZING"===n.item.linkedaccount_visual_state,waiting:"QUEUE"===n.item.linkedaccount_visual_state}},[e("v-icon",{staticClass:"point"},[t._v("fiber_manual_record")]),t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(n.item.linkedaccount_visual_state)+"\n\t\t\t\t\t\t\t\t\t")],1)]),t._v(" "),e("td",{staticClass:"text-xs-left"},[e("div",{staticClass:"td-actions"},[e("i",{staticClass:"icon-win-trash"}),t._v(" "),e("i",{staticClass:"icon-win-edit"})])])]}}])})],1)],1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px",persistent:"",transition:"dialog-transition"},model:{value:t.dialog,callback:function(n){t.dialog=n},expression:"dialog"}},[e("v-card",{staticClass:"card-modal custom-checks"},[e("div",{staticClass:"title-modal-confirm"},[t._v("Select your investment account")]),t._v(" "),t._l(t.accounts,function(n){return e("v-checkbox",{key:n.account_identity,attrs:{label:n.account_platform_display_name,color:"light-blue accent-3",value:n.account_identity,"hide-details":""},model:{value:t.selectedAccounts,callback:function(n){t.selectedAccounts=n},expression:"selectedAccounts"}})}),t._v(" "),e("div",{staticClass:"buttons"},[e("v-btn",{on:{click:function(n){t.dialog=!t.dialog}}},[t._v("Cancel")]),t._v(" "),e("v-btn",{staticClass:"btn-green",on:{click:t.linkAccount}},[t._v("Confirm")])],1)],2)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.confirm,callback:function(n){t.confirm=n},expression:"confirm"}},[e("v-card",{staticClass:"card-modal"},[e("div",{staticClass:"title-modal"},[t._v("Your request has been processed succesfully!")]),t._v(" "),e("p",[t._v("We will proceed to send your information to the platforms requested to start the registration process. \n\t\t\t\tOnce verified and accepted you will be notified")]),t._v(" "),e("v-btn",{staticClass:"btn-green",on:{click:function(n){t.confirm=!t.confirm}}},[t._v("Finish")])],1)],1)],1)},[],!1,null,null,null);n.default=component.exports}}]);